<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>平屋慢生活 - Coding也是生活的溫暖調味</title><meta name="author" content="Allen"><meta name="copyright" content="Allen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="平屋慢生活">
<meta property="og:url" content="https://allenlin000.github.io.git/page/6/">
<meta property="og:site_name" content="平屋慢生活">
<meta property="og:locale">
<meta property="og:image" content="https://i.imgur.com/q4xr50n.png">
<meta property="article:author" content="Allen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/q4xr50n.png"><link rel="shortcut icon" href="/img/kiwibird.png"><link rel="canonical" href="https://allenlin000.github.io.git/page/6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '平屋慢生活',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2026-02-15 10:14:00'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.imgur.com/q4xr50n.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">217</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">30</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://i.imgur.com/86eENHu.png')"><nav id="nav"><span id="blog-info"><a href="/" title="平屋慢生活"><span class="site-name">平屋慢生活</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">平屋慢生活</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/CHI-KEKE" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:chilly37647@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/22/DeepType-Async-Asynchronous-%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0-async-lambda/" title="Asynchronous Programming - 第十四章 :async lambda"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/Async/logoAsync.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Asynchronous Programming - 第十四章 :async lambda"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/22/DeepType-Async-Asynchronous-%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0-async-lambda/" title="Asynchronous Programming - 第十四章 :async lambda">Asynchronous Programming - 第十四章 :async lambda</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-22T06:08:05.000Z" title="Created 2025-10-22 14:08:05">2025-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%AA%E6%9D%A5%E3%82%88%E3%82%8A%E3%81%AE%E8%BF%94%E6%AD%8C/">未来よりの返歌</a></span></div><div class="content">LINQ ForEach() 與 async / await

問題的起點 — async lambda 與 Fire-and-Forget 陷阱問題的起點 — async lambda 與 Fire-and-Forget 陷阱解法 1：簡單但不平行解法 2：真正的非同步 + 平行執行LINQ 的 Select 不會「馬上執行」完整的 Code新的一年，動力滿格，誓言要變成更好的自己，我們開始報名課程、立下目標、說要健身、要學語言、要創業，那一刻就像丟出一個 Task 嚷嚷著我會做到的承諾。但接下來，沒有積極安排「等待與驗收」，例如固定回顧、截止日、交付物、找人督促，生活的 ForEach 將忙碌的人生繼續往下跑，我們會很快進入下一堆事情。最後你回頭看 results 可能是空的、有的只有一半（做到一半被別的事用掉了）、有時看起來做了很多，但沒有一個真正可用的成果，問題不在是否努力，是因為沒設計「誰來等你完成」!!!
12345urls.ForEach(async url =&gt;&#123;    var response = await client.GetAsync(url); ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/21/DeepType-Async-Asynchronous-%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-Task-WhenAll/" title="Asynchronous Programming - 第十三章:Task.WhenAll"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/Async/logoAsync.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Asynchronous Programming - 第十三章:Task.WhenAll"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/21/DeepType-Async-Asynchronous-%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-Task-WhenAll/" title="Asynchronous Programming - 第十三章:Task.WhenAll">Asynchronous Programming - 第十三章:Task.WhenAll</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-21T14:00:05.000Z" title="Created 2025-10-21 22:00:05">2025-10-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%AA%E6%9D%A5%E3%82%88%E3%82%8A%E3%81%AE%E8%BF%94%E6%AD%8C/">未来よりの返歌</a></span></div><div class="content">跑腿什麼時候觸發了任務執行?下載檔案預覽ValidatorsTask.WhenAll 最高?WaitAll 與 WhenAll展現阻塞的差異你叫三個小弟幫你跑腿
Gina 去買雞蛋Bill 去買牛奶Lily 去買麵包
你不會等 Gina 回來才讓 Bill 去，你會同時叫他們出門，然後你說：「等你們全部都回來，我們再一起做早餐！」這就是 Task.WhenAll ，等全部人回來，再開始做接下來的事


它的本質是，把很多 Task 包裝成「一個新的 Task」，這個新 Task 會在所有子 Task 都完成後才完成 (to execute multiple asynchronous tasks concurrently，and wait for all of them to complete)
12345678910111213141516171819async Task Main()&#123;	var tasks = new List&lt;Task&gt;();	foreach (var i in Enumerable.Range(1, 3))	&#123;		tasks.Add ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/18/DeepType-ThinkingMind-Tower-of-Hanoi/" title="Tower of Hanoi"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/%E6%80%9D%E7%B4%A2%E6%97%A5%E5%92%8C/Stamp.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Tower of Hanoi"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/18/DeepType-ThinkingMind-Tower-of-Hanoi/" title="Tower of Hanoi">Tower of Hanoi</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-18T01:30:05.000Z" title="Created 2025-10-18 09:30:05">2025-10-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%80%9D%E7%B4%A2%E6%97%A5%E5%92%8C/">思索日和</a></span></div><div class="content">



當問題太大時，我們無法一次跨越；唯有把它拆開、分段、重複，才能抵達目的。—— 河內塔（Tower of Hanoi）  

🍲 今天想做的事有三根柱子（A、B、C），以及 N 個大小不同的圓盤，開始時都堆在 A 上（小的在上，大的在下）。每次只能移動一個圓盤，且不能把大的放在小的上面。要怎麼把整堆圓盤從 A 搬到 C？



🍲 徒手劈柴如果有 1 個…👉 需要 1 次移動


如果有 2 個…
先把上面那個搬開（一次）
搬最底下那個（一次）
再把上面那個放回去（一次）

👉 總共 3 次


如果有 3 本書…
先搬 2 個（會用 3 次）
搬最底下一個（1 次）
再搬 2 個回去（3 次）

👉 總共是 3 + 1 + 3 &#x3D; 7 次



看起來好像只是單純在搬盤子，但當我們會發現，裡面藏著明確的規律



🍲 問題的結構我們想搬 n 個盤子時，可以分成三個步驟

先把上面 n-1 個盤子搬到「中間柱子」(暫存)。
再搬動最大的第 n 個盤子到目標柱子。
最後再把那 n-1 個盤子搬回目標柱子上。

這三步裡，第一步 和 第三步 都是一樣的動作：「搬 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/17/EFCORE-COMMIT/" title="EF Core - TransactionScope vs BEGIN TRAN/COMMIT"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/EF/ocean.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EF Core - TransactionScope vs BEGIN TRAN/COMMIT"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/17/EFCORE-COMMIT/" title="EF Core - TransactionScope vs BEGIN TRAN/COMMIT">EF Core - TransactionScope vs BEGIN TRAN/COMMIT</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-17T09:45:05.000Z" title="Created 2025-10-17 17:45:05">2025-10-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%B3%87%E6%96%99%E7%96%86%E7%95%8C%E7%9A%84%E8%88%AA%E5%9C%96/">資料疆界的航圖</a></span></div><div class="content">
「如果我在 C# 用 TransactionScope 包了一段程式，裡面又在 SQL 裡手動開 BEGIN TRAN，那最後誰決定要不要真的 commit？」



🌊 誰是「老大」只要你在 using 範圍內操作資料庫，EF 或 ADO.NET 會自動參與這個「環境交易 (Ambient Transaction)」。如果沒呼叫 scope.Complete()，在離開 using 時就會自動 rollback。
123456789using (var scope = new TransactionScope())&#123;    // 這裡做的所有 DB 操作（只要使用相同的連線）都會自動參與這個交易    DoSql1();    DoSql2();    // 決定是否 commit    scope.Complete();&#125;




🌊 BEGIN TRAN &#x2F; COMMIT TRAN這是 T-SQL 層級的交易，寫在 SQL 裡面
123BEGIN TRAN    INSERT INTO Orders ...COMMIT TRAN

這是 資料庫 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/17/EFCORE-EF-Core-Attach-%E8%88%87-Entry-State-%E9%80%B2%E8%A1%8C%E6%9B%B4%E6%96%B0/" title="EF Core Attach() 與 Entry().State 進行更新"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/EF/ocean.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EF Core Attach() 與 Entry().State 進行更新"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/17/EFCORE-EF-Core-Attach-%E8%88%87-Entry-State-%E9%80%B2%E8%A1%8C%E6%9B%B4%E6%96%B0/" title="EF Core Attach() 與 Entry().State 進行更新">EF Core Attach() 與 Entry().State 進行更新</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-17T07:45:05.000Z" title="Created 2025-10-17 15:45:05">2025-10-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%B3%87%E6%96%99%E7%96%86%E7%95%8C%E7%9A%84%E8%88%AA%E5%9C%96/">資料疆界的航圖</a></span></div><div class="content">
在資料的海洋裡，每一筆 Entity 都像一艘小船。有的剛啟航（Added），有的正返港（Modified），有的靜靜停泊（Unchanged），而有的早已脫離航道（Detached）。
EF Core 就像港口的管理員，它用 Entry() 觀察著每艘船的狀態，用 Attach() 告訴它：「這艘船其實還在港裡，只是暫時沒動而已。」



🌊 什麼是 Entry()在 EF Core 中，每個資料表對應一個「Entity 類別」，例如 Student
12345public class Student&#123;    public int Id &#123; get; set; &#125;    public string Name &#123; get; set; &#125;&#125;

有時候，我們想知道 EF Core 現在怎麼看這個物件，例如：它是不是新資料？是不是被修改過？是不是要刪掉？
這時候可以用
1var entry = context.Entry(student);

這行會回傳一個 EntityEntry 物件。可以想成：EF Core 給你一張「狀態 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/17/EFCORE-Upsert/" title="Upsert"><img class="post-bg" src="https://github.com/CHI-KEKE/pics/blob/main/EF/ocean.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Upsert"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/17/EFCORE-Upsert/" title="Upsert">Upsert</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-17T07:45:05.000Z" title="Created 2025-10-17 15:45:05">2025-10-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%B3%87%E6%96%99%E7%96%86%E7%95%8C%E7%9A%84%E8%88%AA%E5%9C%96/">資料疆界的航圖</a></span></div><div class="content">



🌊 典型情境這是一個非常典型的需求：  

傳入一筆資料，用 Primary Key（或唯一欄位）去比對資料庫。  

若不存在 → 新增  
若存在 → 更新欄位


也就是所謂的 Upsert（Update + Insert）
🔹 常見商業情境會員&#x2F;客戶資料整併（CRM &#x2F; User Profile）時，第三方登入回傳一組 ExternalId（Google&#x2F;Facebook&#x2F;LINE），系統收到最新暱稱、頭像、Email

沒有這個 ExternalId → 新增會員
已存在 → 更新最新資料（頭像、名稱、聯絡資訊）




🌊 傳統寫法的痛點最直覺的寫法是這樣：
1234existing.PropA = record.PropA;existing.PropB = record.PropB;existing.PropC = record.PropC;// ...
問題是當 Entity 有三十個欄位時，這樣的程式碼不僅冗長、容易漏改，也很難維護。這種情況下，我們就該讓 EF Core 幫你「批次更新」屬性!



🌊 EF  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/15/SQL-%E5%9F%B7%E8%A1%8C%E9%A0%86%E5%BA%8F/" title="執行順序"><img class="post-bg" src="https://i.imgur.com/NfCnwwU.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="執行順序"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/15/SQL-%E5%9F%B7%E8%A1%8C%E9%A0%86%E5%BA%8F/" title="執行順序">執行順序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-15T00:57:05.000Z" title="Created 2025-10-15 08:57:05">2025-10-15</time></span></div><div class="content">
Help Desk 說：「使用者回報登入錯誤，你幫我修一下。」RD 回：「我先看 log，嗯…沒看到錯誤」Help Desk：「我不是叫你看 log，我是要你先試著登錄看看啊！」RD：「那我得先知道帳號」Help Desk：「我剛不是說了嗎？就是那個登入錯誤的使用者啊！」
SQL 的執行順序，理性、結構化，你說「先 SELECT 再篩資料」，它說「不行，我得先把資料來源 JOIN 起來再說」
了解 SQL 的邏輯執行順序，  當你懂它的思考邏輯，你就不會再覺得它「不聽話」，  反而能跟它合作無間，讓查詢更快、更準、更漂亮



💼 邏輯執行順序SQL 查詢的邏輯執行順序，並不是你「寫」的順序，而是資料庫「想」的順序



步驟
關鍵字
意義



1
FROM &#x2F; JOIN
先決定資料來源（要用哪些表）


2
ON
決定 JOIN 的配對條件


3
WHERE
過濾出你想要的資料


4
GROUP BY
把資料分組（分類）


5
HAVING
過濾掉不符合條件的群組


6
SELECT
挑出你想顯示的欄位


7
UNION 等集合運算
合併多個查詢結果


8 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/13/SQL-field/" title="Field"><img class="post-bg" src="https://i.imgur.com/NfCnwwU.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Field"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/13/SQL-field/" title="Field">Field</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-13T14:52:05.000Z" title="Created 2025-10-13 22:52:05">2025-10-13</time></span></div><div class="content">


在 SQL 資料表設計時，「欄位型別的選擇」會直接影響到：

儲存空間（Database Size）
查詢效能（Index &#x2F; Join &#x2F; Sort）
可擴充性（是否足夠表示未來的資料量）

💼 char &#x2F; varchar &#x2F; nchar &#x2F; nvarchar「var」表示變長，「n」表示支援 Unicode


🔹 定長：char想像你開一間餐廳，每張桌子都是固定 10 個座位 (char(10))，不管今天坐 2 個人還是 10 個人，桌子都占同樣的空間也就是說，你設定 char(10)，即使只放 ‘Hi’，它還是佔 10 Bytes，系統會幫你在後面補空白（space），讓長度固定
char 因為長度固定，SQL Server 可以「快速計算位置」，所以在大量查詢時效能較好。所以 char 比較「浪費空間但速度快」；varchar 比較「省空間但速度略慢一點」


🔹 Unicode vs. 非Unicode（n 開頭的型別）Unicode 是一種「萬國通用的文字編碼」，用來同時支援 中、英、日、韓、泰文 等不同語 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/12/DeepType-SQL-Index-2/" title="Index - 發揮作用...了嗎"><img class="post-bg" src="https://i.imgur.com/NfCnwwU.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Index - 發揮作用...了嗎"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/12/DeepType-SQL-Index-2/" title="Index - 發揮作用...了嗎">Index - 發揮作用...了嗎</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-12T05:51:05.000Z" title="Created 2025-10-12 13:51:05">2025-10-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%83%85%E5%A0%B1%E3%81%AE%E5%AD%98%E5%9C%A8%E8%AB%96/">情報の存在論</a></span></div><div class="content">5個概念拯救龜速的SQL查詢(Query)



索引沒有覆蓋（Covering Index)索引沒有覆蓋查詢（Covering Index）複合索引的順序不對（Leftmost Prefix 原則)索引欄位的「資料分佈」不好（Cardinality）Equality 與 Range 的順序Optimizersummary索引是「查詢條件、資料分佈、索引結構三件事剛好對齊時，Optimizer 才會願意用它」，假設我們今天建立了一個 Index，我們以為它可以幫忙「快速定位資料」，Optimizer 看查詢條件會嘗試判斷能不能用這個 Index 做 Seek、用了之後要不要回主表（Key Lookup）、成本是不是比 Scan 還低，Optimizer 依據 Statistics 估算回傳列數，不是實際跑，而是「猜」，如果猜錯，整個執行計畫就歪掉，只要任何一環不理想、Index 欄位不夠、欄位順序不對、資料分佈太平均、統計過期，則 Optimizer 就會放棄你以為「應該要用」的索引
因此會發生已經建好索引，而且查詢條件也寫得很明確，但實際發生的是出現 Key Lookup、Index ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/10/11/SQL-IsoloationLevel/" title="IsolationLevel"><img class="post-bg" src="https://i.imgur.com/NfCnwwU.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IsolationLevel"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/10/11/SQL-IsoloationLevel/" title="IsolationLevel">IsolationLevel</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-11T00:50:05.000Z" title="Created 2025-10-11 08:50:05">2025-10-11</time></span></div><div class="content">
交易隔離層級是用來控制「當多個交易同時讀寫資料時，要不要讓他們互相看到對方的變更。要資料「越準確」，就得「越鎖」，要系統「越快」，就得「越鬆」，是在討論競爭條件(Race condition)的議題


💼 READ UNCOMMITTED允許交易去「偷看別人還沒寫完的資料」，這樣雖然速度快，但有風險，因為你讀到的資料可能會「被改回去」或「消失」

不會加共用鎖 (Shared Lock)，所以別人正在改資料時，你一樣能讀它。
不會被排他鎖 (Exclusive Lock) 阻擋，所以就算別人正在修改資料、還沒提交，你也能去讀它。



🟢 Shared Lock（共用鎖）是 SQL Server 在「讀資料」時加上的一種鎖，它的作用是我正在看資料，別人在我看完之前不能改它觸發時機：SELECT 查詢（讀資料），可以多個共存 Shared Lock 但會阻擋 Exclusive Lock（別人不能改）
用途：確保你讀的資料在讀取過程中不會被修改
12345BEGIN TRAN;SELECT * FROM Products WHERE Id = 1;  -- Shared Lock ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/#content-inner">22</a><a class="extend next" rel="next" href="/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.imgur.com/q4xr50n.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Allen</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">217</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">43</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">30</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/CHI-KEKE"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/CHI-KEKE" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:chilly37647@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">世界上總會有一些溫暖的小角落</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/17/DeepType-Cache-redis-auth/" title="Redis 的存取控制（Authentication 與 ACL）"><img src="https://github.com/CHI-KEKE/pics/blob/main/Cache/CacheSql.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis 的存取控制（Authentication 與 ACL）"/></a><div class="content"><a class="title" href="/2026/01/17/DeepType-Cache-redis-auth/" title="Redis 的存取控制（Authentication 與 ACL）">Redis 的存取控制（Authentication 與 ACL）</a><time datetime="2026-01-17T03:19:50.000Z" title="Created 2026-01-17 11:19:50">2026-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/14/DeepType-Cache-redis-cache-local/" title="Untitled"><img src="https://i.imgur.com/f2eWUWv.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Untitled"/></a><div class="content"><a class="title" href="/2026/01/14/DeepType-Cache-redis-cache-local/" title="Untitled">Untitled</a><time datetime="2026-01-14T14:38:13.918Z" title="Created 2026-01-14 22:38:13">2026-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/11/DeepType-Factory-LoggerFactory/" title="LoggerFactory"><img src="https://raw.githubusercontent.com/CHI-KEKE/pics/refs/heads/main/Factory/factory.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LoggerFactory"/></a><div class="content"><a class="title" href="/2026/01/11/DeepType-Factory-LoggerFactory/" title="LoggerFactory">LoggerFactory</a><time datetime="2026-01-11T02:58:05.000Z" title="Created 2026-01-11 10:58:05">2026-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/11/DeepType-K8S-Command/" title="Cammand"><img src="https://raw.githubusercontent.com/CHI-KEKE/pics/refs/heads/main/Random/Whale.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cammand"/></a><div class="content"><a class="title" href="/2026/01/11/DeepType-K8S-Command/" title="Cammand">Cammand</a><time datetime="2026-01-11T00:47:05.000Z" title="Created 2026-01-11 08:47:05">2026-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/10/DeepType-Cache-Redis-%E5%88%86%E6%95%A3%E5%BC%8F%E6%9E%B6%E6%A7%8B/" title="Redis - 分散式架構（Sharding）"><img src="https://github.com/CHI-KEKE/pics/blob/main/Cache/CacheSql.png?raw=true" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis - 分散式架構（Sharding）"/></a><div class="content"><a class="title" href="/2026/01/10/DeepType-Cache-Redis-%E5%88%86%E6%95%A3%E5%BC%8F%E6%9E%B6%E6%A7%8B/" title="Redis - 分散式架構（Sharding）">Redis - 分散式架構（Sharding）</a><time datetime="2026-01-10T15:30:11.000Z" title="Created 2026-01-10 23:30:11">2026-01-10</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="View More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Authorization/"><span class="card-category-list-name">Authorization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C#</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Config/"><span class="card-category-list-name">Config</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Factory/"><span class="card-category-list-name">Factory</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/LINQ/"><span class="card-category-list-name">LINQ</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MVC/"><span class="card-category-list-name">MVC</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Middleware/"><span class="card-category-list-name">Middleware</span><span class="card-category-list-count">5</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Newtonsoft-Json/" style="font-size: 1.1em; color: #999">Newtonsoft.Json</a> <a href="/tags/Delegate/" style="font-size: 1.17em; color: #999ca0">Delegate</a> <a href="/tags/WebAPI/" style="font-size: 1.1em; color: #999">WebAPI -</a> <a href="/tags/Http/" style="font-size: 1.32em; color: #99a2ae">Http</a> <a href="/tags/%E6%9E%B6%E6%A7%8B%E3%81%AE%E6%B5%B7%E3%81%AB%E7%81%AF%E3%82%8B%E6%98%9F%E3%84%8B/" style="font-size: 1.1em; color: #999">架構の海に灯る星ㄋ</a> <a href="/tags/Validation/" style="font-size: 1.1em; color: #999">Validation</a> <a href="/tags/%E7%A8%8B%E6%80%9D%E8%88%9E%E6%83%B3/" style="font-size: 1.25em; color: #999fa7">程思舞想</a> <a href="/tags/JSON/" style="font-size: 1.1em; color: #999">JSON</a> <a href="/tags/LINQ/" style="font-size: 1.43em; color: #99a6b8">LINQ</a> <a href="/tags/Encode/" style="font-size: 1.21em; color: #999da3">Encode</a> <a href="/tags/Enum/" style="font-size: 1.17em; color: #999ca0">Enum</a> <a href="/tags/%E8%B3%87%E6%96%99%E7%96%86%E7%95%8C%E7%9A%84%E8%88%AA%E5%9C%96/" style="font-size: 1.25em; color: #999fa7">資料疆界的航圖</a> <a href="/tags/%E6%80%9D%E7%B4%A2%E6%97%A5%E5%92%8C/" style="font-size: 1.25em; color: #999fa7">思索日和</a> <a href="/tags/%E6%9E%B6%E6%A7%8B%E3%81%AE%E6%B5%B7%E3%81%AB%E7%81%AF%E3%82%8B%E6%98%9F/" style="font-size: 1.21em; color: #999da3">架構の海に灯る星</a> <a href="/tags/Factory/" style="font-size: 1.1em; color: #999">Factory</a> <a href="/tags/Serialization/" style="font-size: 1.1em; color: #999">Serialization</a> <a href="/tags/System-Text-Json/" style="font-size: 1.1em; color: #999">System.Text.Json</a> <a href="/tags/Server/" style="font-size: 1.1em; color: #999">Server</a> <a href="/tags/SQL-%E8%81%B7%E5%A0%B4%E6%AD%B7%E9%9A%AA%E8%A8%98/" style="font-size: 1.1em; color: #999">SQL 職場歷險記</a> <a href="/tags/C/" style="font-size: 1.28em; color: #99a0aa">C#</a> <a href="/tags/AWS/" style="font-size: 1.1em; color: #999">AWS</a> <a href="/tags/EF-CORE/" style="font-size: 1.5em; color: #99a9bf">EF CORE</a> <a href="/tags/Asynchronous-Programming/" style="font-size: 1.46em; color: #99a8bc">Asynchronous Programming</a> <a href="/tags/ThirdParty/" style="font-size: 1.1em; color: #999">ThirdParty</a> <a href="/tags/Design/" style="font-size: 1.25em; color: #999fa7">Design</a> <a href="/tags/Tools/" style="font-size: 1.14em; color: #999a9c">Tools</a> <a href="/tags/Docker/" style="font-size: 1.21em; color: #999da3">Docker</a> <a href="/tags/Delegate-x-Observer-Pattern/" style="font-size: 1.1em; color: #999">Delegate x Observer Pattern</a> <a href="/tags/%E6%83%85%E5%A0%B1%E3%81%AE%E5%AD%98%E5%9C%A8%E8%AB%96/" style="font-size: 1.39em; color: #99a5b5">情報の存在論</a> <a href="/tags/Middleware/" style="font-size: 1.21em; color: #999da3">Middleware</a> <a href="/tags/SOLID/" style="font-size: 1.1em; color: #999">SOLID</a> <a href="/tags/Config/" style="font-size: 1.17em; color: #999ca0">Config</a> <a href="/tags/noSQL/" style="font-size: 1.14em; color: #999a9c">noSQL</a> <a href="/tags/Memory/" style="font-size: 1.1em; color: #999">Memory</a> <a href="/tags/Cache/" style="font-size: 1.17em; color: #999ca0">Cache</a> <a href="/tags/%E8%92%BC%E3%81%8D%E7%9B%BE/" style="font-size: 1.35em; color: #99a3b1">蒼き盾</a> <a href="/tags/Web/" style="font-size: 1.1em; color: #999">Web</a> <a href="/tags/WebAPI/" style="font-size: 1.28em; color: #99a0aa">WebAPI</a> <a href="/tags/%E9%A2%A8%E9%9F%B3%E5%AD%90/" style="font-size: 1.1em; color: #999">風音子</a> <a href="/tags/MVC/" style="font-size: 1.21em; color: #999da3">MVC</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="View More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2026/01/"><span class="card-archive-list-date">January 2026</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">December 2025</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">November 2025</span><span class="card-archive-list-count">29</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">October 2025</span><span class="card-archive-list-count">36</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">September 2025</span><span class="card-archive-list-count">34</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">August 2025</span><span class="card-archive-list-count">17</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">July 2025</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">June 2025</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">217</div></div><div class="webinfo-item"><div class="item-name">Runtime :</div><div class="item-count" id="runtimeshow" data-publishDate="2024-03-01T10:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-02-15T02:13:59.352Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://i.imgur.com/yZlXwed.png')"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2026 By Allen</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">What you'll find out there is boundless freedom !</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>